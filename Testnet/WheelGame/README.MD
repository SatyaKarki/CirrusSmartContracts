## Wheel smart contract game

### Description
It implements a very basic and simple game, in which participants in sequence make bids using the 
[StakeBid method](https://github.com/SergeyAnkarenko/CirrusSmartContracts/blob/c171549c9fad1226d8aed8738f4ac7edf1f6e5e2/Testnet/WheelGame/WheelGame/Wheel.cs#L86-L118).
Each new bid refreshes timeout (block number), starts new round, increases game pool by amount of the bid and sets current winner to the sender of the bid.
If timeout has been reached (so no one has made a bid in a next `timeoutBlock` blocks) then the last bidder is announced to be winner and
is able to withdraw [withdraw](https://github.com/SergeyAnkarenko/CirrusSmartContracts/blob/c171549c9fad1226d8aed8738f4ac7edf1f6e5e2/Testnet/WheelGame/WheelGame/Wheel.cs#L140-L183) 
the whole game pool which consists of the bids, that was made by previous participants. Every new bid starts this cicle over and over again.

#### An example of interface
![](https://i.ibb.co/Kx6fTgD/Screenshot-14.png)


#### Caveats
- **What if dishonest miners decide to cheat and not to include transactions of other participants and take the game pool?**
 Let's imagine, that dishonest miners have 50% of mining power, so they generate a new block with probability of `1/2`, which is very big.
 So to cheat and take the game pool they need to mine `timeoutBlock` blocks in a sequence which has a probability of `1/2^timeoutBlock` which is already
 very low if you set timeoutBlock to 5 (0.03125%)

- **People with very big funds will always win** Well, there is always someone who is richer than you. So playing in this game even with big
  amount of money also poses some risks :)
  
#### Improvements
- Right now the bid amount if fixed and supplied in constructor of the smart contract. Maybe it makes sense to make dynamic bid amount that varies from round to round. The very naive implementation is to make bid dependent on
 round number like so `newBid = bid * round`. Also it might be funny to generate newBid randomly, so its difficult to predict a couple of blocks ahead, 
 For example, we can take as source of randomness `this.Block.Coinbase` address. 
 **Note**, that this random value doesnt need to be secure at all, it just varies the bid amount requred to paricipate in a game,
 so it can be guessed by miners. 

### Compiler version
v0.0.2

### Hash
`07d1fd535b8e4cb69ad955999e330d166567d326b1eabaa5a68b5e49dc77067b`

### Bytecode
```
4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010200D347F3E10000000000000000E00022200B013000001200000002000000000000DE3000000020000000400000000000100020000000020000040000000000000004000000000000000060000000020000000000000300408500001000001000000000100000100000000000001000000000000000000000008C3000004F000000000000000000000000000000000000000000000000000000004000000C000000703000001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000E4100000002000000012000000020000000000000000000000000000200000602E72656C6F6300000C000000004000000002000000140000000000000000000000000000400000420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C030000000000000480000000200050008250000680B000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004602280500000A72010000706F0600000A2A4A02280500000A7201000070036F0700000A2A4A02280500000A721D0000706F0800000A862A4A02280500000A721D000070036F0900000A2A4602280500000A72290000706F0A00000A2A4A02280500000A7229000070036F0B00000A2A4602280500000A72430000706F0C00000A2A4A02280500000A7243000070036F0D00000A2A4602280500000A725D0000706F0C00000A2A4A02280500000A725D000070036F0D00000A2A4602280500000A726B0000706F0C00000A2A4A02280500000A726B000070036F0D00000A2A4A02280500000A72730000706F0800000A862A4A02280500000A7273000070036F0900000A2A4602280500000A72890000706F0E00000A2A4A02280500000A7289000070036F0F00000A2A720203281000000A0204280C0000060205280E0000060228120000062ADA0216280200000602166A280A000006027E1100000A28100000060202281200000A6F1300000A176ADB2808000006021628060000062A7202280500000A72A3000070038C06000001281400000A6F0C00000A2A7602280500000A72A3000070038C06000001281400000A046F0D00000A2A000000133003001E010000010000110228010000062D0B02281700000638D70000000228160000062C5C0202281500000A6F1600000A2813000006022809000006D70A0202280F000006062814000006021201FE1503000002120102281500000A6F1600000A7D0100000412010228090000067D0200000407280100002B0228170000062B730228010000062C5F0202280B00000602281500000A6F1800000AFE0172BB000070281900000A0202281500000A6F1600000A28100000060202280900000602281500000A6F1800000AD7280A00000602281800000602280500000617D70C020828060000062B0C021672D9000070281900000A021203FE1504000002120302281500000A6F1600000A7D03000004120302281200000A6F1300000A7D0400000409280200002B2A7202281200000A6F1300000A02280700000637070228010000062A162AFE02166A280A000006021728060000060228180000060202281500000A6F1600000A28100000060202281500000A6F1800000A280A000006021728020000062A6A0202281200000A6F1300000A02280D0000066ED728080000062A0000133004004C010000020000110202281500000A6F1600000A02280F000006281A00000A72BB000070281900000A02281600000639B50000000202281500000A6F1600000A28130000060A06022809000006D70B0228090000060C0207166AFE0372BB000070281900000A0202281500000A6F1600000A166A281400000602166A280A0000060202281500000A6F1600000A07281B00000A256F1C00000A2D190202281500000A6F1600000A0628140000060208280A000006021203FE1503000002120302281500000A6F1600000A7D010000041203087D0200000409280100002B0228120000066F1C00000A2A0202281500000A6F1600000A28130000061304021104166AFE0372BB000070281900000A0202281500000A6F1600000A166A28140000060202281500000A6F1600000A1104281B00000A256F1C00000A2D130202281500000A6F1600000A110428140000066F1C00000A2A42534A4201000100000000000C00000076342E302E33303331390000000005006C0000006C040000237E0000D8040000EC03000023537472696E677300000000C408000058010000235553001C0A00001000000023475549440000002C0A00003C01000023426C6F6200000000000000020000015715A201090A000000FA013300160000010000000F0000000400000004000000190000000E0000001C0000000500000002000000010000000800000010000000010000000200000002000000020000000000100201000000000006005F01DD0206008E01DD0206004B01CA020F00FD0200000A005B0336030A00260336030A00F00036030600D20032020A007F0136030A00170136030A00D70136030600BC0132020600690332020A00BD0036030A00700336030000000029000000000001000100010010000A0200001500010001000A011000CD010000210001001A000A011000C3010000210003001A0006007902540006008003B70006009C02540006005902B70050200000000086085F00AA00010062200000000081087100BA0001007520000000008608DC00BF0002008820000000008108E600C30002009B20000000008608A202C8000300AD20000000008108B302CC000300C020000000008608E8015D000400D220000000008108F901D1000400E52000000000860849005D000500F7200000000081085400D10005000A2100000000860883005D0006001C210000000081088B00D10006002F21000000008608B503BF0007004221000000008108C403C3000700552100000000860880027500080067210000000081089102D60008007A21000000008618C402DC00090097210000000081003C0106000C00CE21000000008600A700E4000C00EB21000000008100B200EA000D000C22000000008600930006000F003623000000008100A203AA000F0053230000000081009C0006000F0093230000000081008E0306000F00B023000000008600AC03AA000F0000000100B60100000100B60100000100B60100000100B60100000100B60100000100B60100000100B60100000100B601000001000401000002004D0300000300D303000001002E03000001002E0300000200B6010900C40201001100C40206001900C4020A004900C402060029002801100051002202150051002A021A0051003E022000510046022500510001002B0051000B00300051001500360051001F003B005100180341005100230347002900C4024E003100390254002900DE01580059004E025D006100540361002900C60070007100650275002900D3017A007100AC015D002900870386003100DE039A0029007002A20079000C03AA002100230037012E000B0006012E0013000F012E001B002E01610023003701670091000200010000007500F10000004501F5000000B702F9000000FD01FD0000005800FD0000009800FD000000C803F500000095020101020001000300010002000300020003000500010004000500020005000700010006000700020007000900010008000900020009000B0001000A000B0002000B000D0001000C000D0002000D000F0001000E000F0002000F0011000100100011000480000000000000000000000000000000005B030000040000000000000000000000AE00320000000000010002000100000000000000000036030000000003000200040002002F0081002F008C0000000047657455496E7433320053657455496E7433320047657455496E7436340053657455496E743634003C4D6F64756C653E0053797374656D2E507269766174652E436F72654C6962006765745F5374616B6564007365745F5374616B6564006765745F497347616D6553746172746564007365745F497347616D6553746172746564006765745F426964007365745F426964005374616B65426964005374617274526F756E640047657442616C616E63650053657442616C616E636500494D657373616765006765745F4D6573736167650056616C756554797065006765745F5374617465007365745F53746174650049536D617274436F6E7472616374537461746500736D617274436F6E74726163745374617465004950657273697374656E745374617465006765745F50657273697374656E74537461746500476F546F537461727453746174650044656275676761626C6541747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500496E6465784174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465006765745F56616C75650076616C756500537472696E67004E65774269644C6F670057696E6E65724C6F670049426C6F636B006765745F426C6F636B006765745F54696D656F7574426C6F636B007365745F54696D656F7574426C6F636B00576865656C00536D617274436F6E74726163742E646C6C00476574426F6F6C00536574426F6F6C0053797374656D005A65726F00476574436861720053657443686172006765745F4E756D62657200426C6F636B4E756D626572006765745F53656E646572005472616E736665720057696E6E6572006765745F4C6173744269644F776E6572007365745F4C6173744269644F776E6572006765745F526F756E64436F756E746572007365745F526F756E64436F756E746572002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F646573006765745F5375636365737300476574416464726573730053657441646472657373006164647265737300537472617469732E536D617274436F6E7472616374730062696453617400466F726D617400536D617274436F6E7472616374004F626A65637400495472616E73666572526573756C7400416D6F756E74004173736572740052656672657368426C6F636B54696D656F757400497354696D656F7574005769746864726177006765745F426C6F636B44656C6179007365745F426C6F636B44656C617900626C6F636B44656C6179006F705F457175616C697479000000001B49007300470061006D0065005300740061007200740065006400000B53007400610074006500001952006F0075006E00640043006F0075006E007400650072000019540069006D0065006F007500740042006C006F0063006B00000D5300740061006B00650064000007420069006400001542006C006F0063006B00440065006C006100790000194C006100730074004200690064004F0077006E00650072000017620061006C0061006E00630065003A007B0030007D00001D41007300730065007200740020006600610069006C00650064002E00007B53006F006D0065007400680069006E006700200069007300200064006500660069006E006900740065006C0079002000770072006F006E0067002E0020004900740020006E0065007600650072002000730068006F0075006C006400200068006100760065002000680061007000700065006E006E00650064000000000098E54F39B0339C49BBD853EFA606989A000420010108032000010520010111110420001229042001020E052002010E02042001030E052002010E03042001090E052002010E090420010B0E052002010E0B05200111190E062002010E111905200101121D03061119042000122D0320000B0500020E0E1C0807040B110C0911100420001239042000111906300101011E00040A01110C05200201020E040A0111100807050B0B0B110C0B0700020211191119072002123D11190B03200002087CEC85D7BEA7798E02060B0420010102032000050420010105032000090420010109042001010B05200101111907200301121D0B050520010B11190620020111190B0328000203280005032800090328000B04280011190801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F777301080100020000000000040100000000000000000000000000000010000000000000000000000000000000B43000000000000000000000CE300000002000000000000000000000000000000000000000000000C0300000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000E03000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```
